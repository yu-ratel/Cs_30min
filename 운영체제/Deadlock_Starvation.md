# 🎯 교착상태 (Deadlock) 와 기아상태 (Starvation)

- 교착상태

  - 두 개 이상의 작업이 서로 상대방의 작업이 끝나기만을 기다리고 있기 때문에 결과적으로 아무것도 완료되지 못하는 상태 (무한 대기상태)

- 기아상태
  - 특정 작업의 우선 순위가 낮아서 원하는 자원을 할당받지 못하는 상태

---

### 📝 교착상태 발생조건

- 상호배제

  - 한 번에 한 작업만 해당 자원을 사용할 수 있어야한다.

- 점유대기

  - 할당된 자원을 가진 상태에서 다른 자원을 기다린다.

- 비선점

  - 다른 작업이 자원의 사용을 끝날 때 까지 자원을 뺏을 수 없다.

- 순환대기
  - 각 작업이 순환적으로 다음 작업이 요구하는 자원을 가지고 있다.

> 위 조건 중 한 가지라도 만족하지 않으면 교착상태는 발생하지 않으며, 위 4가지 조건은 서로 완전히 독립적인 것은 아니다.

---

### 📝 교착상태 해결방법

- 예방

  - 발생 조건 4가지 중 하나를 제거하면서 예방하는 것
    - 현재는 잘 사용하지 않으며, 교착상태에 빠지지 않는 환경을 만들고 시작하는 건 자원을 효율적으로 사용하기 어렵다.

- 회피

  - 교착상태를 인정하고 피해가는 방법
    - 은행원 알고리즘 (안전 상태/불안정 상태 구분 후 불안정시 대기)

- 발견 && 회복

  - 교착상태가 발생했는지 점검하여 교착상태에 있는 작업과 자원을 발견
  - 교착상태를 일으킨 작업을 종료하거나, 제어권을 뺏고 롤백하여 회복하는 것

- 무시
  - 예방 혹은 회피기법은 성능에 영향을 미칠 수 있기에 교착상태가 드물게 발생하는 경우 무시하는 것

---

### 기아상태 해결방법

- 작업의 우선순위를 수시로 변경
- 오래 기다린 작업의 우선순위 높이기
- 우선순위가 아닌 요청순서대로 사용할 수 있는 queue 사용
